{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Oleh Dzenhliuk\\\\Downloads\\\\form-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"C:\\\\Users\\\\Oleh Dzenhliuk\\\\Downloads\\\\form-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\Oleh Dzenhliuk\\\\Downloads\\\\form-forked\\\\src\\\\components\\\\Form\\\\Main.js\";\nimport React, { useState } from \"react\";\nimport Field from \"./partials/Field\";\nimport Button from \"./partials/Button\";\nimport { submitBtn, editBtn, cancelBtn } from \"./Data\"; // import generateId from \"../helpers/idGenerator\";\n\nimport \"./Main.css\";\n\nvar generateId = text => {\n  return text.replace(/\\s+/g, \"\").toLowerCase();\n};\n\nvar Form = ({\n  title,\n  fields\n}) => {\n  var fieldsWithId = fields.map(field => _objectSpread(_objectSpread({}, field), {}, {\n    id: field.id ? field.id : generateId(field.label)\n  }));\n\n  var _useState = useState(fieldsWithId),\n      _useState2 = _slicedToArray(_useState, 2),\n      inputs = _useState2[0],\n      setInputs = _useState2[1];\n\n  var checkData = () => {\n    return inputs.filter(({\n      value\n    }) => value !== undefined && value !== \"\").length > 0;\n  };\n\n  var submitControl = checkData() ? editBtn : submitBtn;\n\n  var handleChange = event => {\n    var index = inputs.findIndex(element => element.id === event.target.id);\n    var newInputs = [...inputs];\n    newInputs[index] = _objectSpread(_objectSpread({}, newInputs[index]), {}, {\n      value: event.target.value\n    });\n    setInputs(newInputs);\n  };\n\n  var handleClear = () => {\n    var newInputs = inputs.map(input => _objectSpread(_objectSpread({}, input), {}, {\n      value: \"\"\n    }));\n    setInputs(newInputs);\n  };\n\n  var handleSubmit = () => {\n    var output = inputs.map(({\n      label,\n      value\n    }) => \"\".concat(label, \": \").concat(value, \"\\r\\n\"));\n    handleClear();\n    console.log(\"Sent data:\\n\", ...output);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, \" \", title, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, inputs.map(field => /*#__PURE__*/React.createElement(Field, Object.assign({\n    key: field.label\n  }, field, {\n    handleChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__controls\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, Object.assign({}, cancelBtn, {\n    handleClick: handleClear,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Button, Object.assign({}, submitControl, {\n    handleClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }))));\n};\n\nForm.defaultProps = {\n  title: \"My Form\"\n};\nexport default Form;","map":{"version":3,"sources":["C:/Users/Oleh Dzenhliuk/Downloads/form-forked/src/components/Form/Main.js"],"names":["React","useState","Field","Button","submitBtn","editBtn","cancelBtn","generateId","text","replace","toLowerCase","Form","title","fields","fieldsWithId","map","field","id","label","inputs","setInputs","checkData","filter","value","undefined","length","submitControl","handleChange","event","index","findIndex","element","target","newInputs","handleClear","input","handleSubmit","output","console","log","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Field from \"./partials/Field\";\r\nimport Button from \"./partials/Button\";\r\nimport { submitBtn, editBtn, cancelBtn } from \"./Data\";\r\n// import generateId from \"../helpers/idGenerator\";\r\n\r\nimport \"./Main.css\";\r\n\r\nconst generateId = (text) => {\r\n  return text.replace(/\\s+/g, \"\").toLowerCase();\r\n};\r\n\r\nconst Form = ({ title, fields }) => {\r\n  const fieldsWithId = fields.map((field) => ({\r\n    ...field,\r\n    id: field.id ? field.id : generateId(field.label)\r\n  }));\r\n  const [inputs, setInputs] = useState(fieldsWithId);\r\n  const checkData = () => {\r\n    return inputs.filter(({value}) => (value !== undefined && value !== \"\")).length > 0;\r\n  };\r\n  const submitControl = checkData() ? editBtn : submitBtn;\r\n  const handleChange = (event) => {\r\n    let index = inputs.findIndex((element) => element.id === event.target.id);\r\n    let newInputs = [...inputs];\r\n    newInputs[index] = { ...newInputs[index], value: event.target.value };\r\n    setInputs(newInputs);\r\n  };\r\n  const handleClear = () => {\r\n    let newInputs = inputs.map(input => ({...input, value: \"\"}));\r\n    setInputs(newInputs);\r\n  };\r\n  const handleSubmit = () => {\r\n    const output = inputs.map(({ label, value }) => `${label}: ${value}\\r\\n`);\r\n    handleClear();\r\n    console.log(\"Sent data:\\n\", ...output);\r\n  };\r\n  return (\r\n    <div className=\"form\">\r\n      <div className=\"form__header\">\r\n        <h2> {title} </h2>\r\n      </div>\r\n      <div className=\"form__content\">\r\n        {inputs.map((field) => (\r\n          <Field key={field.label} {...field} handleChange={handleChange} />\r\n        ))}\r\n      </div>\r\n      <div className=\"form__controls\">\r\n        <Button {...cancelBtn} handleClick={handleClear}/>\r\n        <Button {...submitControl} handleClick={handleSubmit} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nForm.defaultProps = {\r\n  title: \"My Form\"\r\n};\r\n\r\nexport default Form;\r\n"]},"metadata":{},"sourceType":"module"}